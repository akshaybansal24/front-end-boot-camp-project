{"ast":null,"code":"import { combineReducers } from \"redux\";\nimport { ADD_CAR, DELETE_CAR, EDIT_CAR, SORT_CAR, SAVE_CAR, SORT_ASC, SORT_DESC, REFRESH_CARS_DONE_ACTION } from '../actions/carToolActions';\nconst carList = [{\n  id: 1,\n  make: 'Lexus',\n  model: 'NX 300',\n  year: 2021,\n  color: 'Atomic Silver',\n  price: 53000,\n  isEditable: false\n}, {\n  id: 2,\n  make: 'Tesla',\n  model: 'Model 3',\n  year: 2021,\n  color: 'Red',\n  price: 72000,\n  isEditable: false\n}];\n\nconst carReducer = (cars = carList, action) => {\n  switch (action.type) {\n    case ADD_CAR:\n      return [...cars, { ...action.payload.car,\n        id: Math.max(...cars.map(c => c.id), 0) + 1\n      }];\n\n    case DELETE_CAR:\n      console.log(action);\n      return cars.filter(car => car.id !== action.payload.carID);\n\n    case SAVE_CAR:\n      const carsCopy = [...cars];\n      const updatedItemIndex = carsCopy.findIndex(car => car.id === action.payload.car.id);\n      carsCopy[updatedItemIndex] = action.payload.car;\n      return carsCopy;\n\n    case REFRESH_CARS_DONE_ACTION:\n      return action.payload.cars;\n\n    default:\n      return cars;\n  }\n};\n\nconst editCarIdReducer = (editCarId = -1, action) => {\n  switch (action.type) {\n    case ADD_CAR:\n      return -1;\n\n    case DELETE_CAR:\n      return -1;\n\n    case EDIT_CAR:\n      console.log(action.payload.car);\n      editCarId = action.payload.car;\n      return editCarId;\n\n    case SAVE_CAR:\n      return -1;\n\n    default:\n      return -1;\n  }\n};\n\nconst carsSortReducer = (carsSort = {\n  sortCol: 'id',\n  sortDir: SORT_ASC\n}, action) => {\n  if (action.type === SORT_CAR) {\n    if (action.payload.col === carsSort.sortCol) {\n      if (carsSort.sortDir === SORT_ASC) return { ...carsSort,\n        sortDir: SORT_DESC\n      };else return { ...carsSort,\n        sortDir: SORT_ASC\n      };\n    } else {\n      return { ...carsSort,\n        sortCol: action.payload.col,\n        sortDir: SORT_ASC\n      };\n    }\n  }\n\n  return carsSort;\n};\n\nconst isLoadingReducer = (isLoading = false, action) => {\n  if (action.type.includes(\"REQUEST\")) return true;\n  if (action.type.includes(\"DONE\")) return false;\n  return isLoading;\n};\n\nexport const carToolReducer = combineReducers({\n  cars: carReducer,\n  editCarId: editCarIdReducer,\n  carsSort: carsSortReducer,\n  isLoading: isLoadingReducer\n});","map":{"version":3,"sources":["/app/Front-end-bootcamp/demo-app/src/reducers/carToolReducer.js"],"names":["combineReducers","ADD_CAR","DELETE_CAR","EDIT_CAR","SORT_CAR","SAVE_CAR","SORT_ASC","SORT_DESC","REFRESH_CARS_DONE_ACTION","carList","id","make","model","year","color","price","isEditable","carReducer","cars","action","type","payload","car","Math","max","map","c","console","log","filter","carID","carsCopy","updatedItemIndex","findIndex","editCarIdReducer","editCarId","carsSortReducer","carsSort","sortCol","sortDir","col","isLoadingReducer","isLoading","includes","carToolReducer"],"mappings":"AAAA,SAASA,eAAT,QAAgC,OAAhC;AAEA,SACIC,OADJ,EAEIC,UAFJ,EAGIC,QAHJ,EAIIC,QAJJ,EAKIC,QALJ,EAMIC,QANJ,EAOIC,SAPJ,EAQIC,wBARJ,QASO,2BATP;AAWA,MAAMC,OAAO,GAAG,CACZ;AAACC,EAAAA,EAAE,EAAE,CAAL;AAAQC,EAAAA,IAAI,EAAE,OAAd;AAAuBC,EAAAA,KAAK,EAAE,QAA9B;AAAwCC,EAAAA,IAAI,EAAE,IAA9C;AAAoDC,EAAAA,KAAK,EAAE,eAA3D;AAA4EC,EAAAA,KAAK,EAAE,KAAnF;AAA0FC,EAAAA,UAAU,EAAE;AAAtG,CADY,EAEZ;AAACN,EAAAA,EAAE,EAAE,CAAL;AAAQC,EAAAA,IAAI,EAAE,OAAd;AAAuBC,EAAAA,KAAK,EAAE,SAA9B;AAAyCC,EAAAA,IAAI,EAAE,IAA/C;AAAqDC,EAAAA,KAAK,EAAE,KAA5D;AAAmEC,EAAAA,KAAK,EAAE,KAA1E;AAAiFC,EAAAA,UAAU,EAAE;AAA7F,CAFY,CAAhB;;AAMA,MAAMC,UAAU,GAAG,CAACC,IAAI,GAAGT,OAAR,EAAiBU,MAAjB,KAA4B;AAC3C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKnB,OAAL;AACI,aAAO,CAAC,GAAGiB,IAAJ,EAAS,EACZ,GAAGC,MAAM,CAACE,OAAP,CAAeC,GADN;AAEZZ,QAAAA,EAAE,EAAEa,IAAI,CAACC,GAAL,CAAS,GAAGN,IAAI,CAACO,GAAL,CAASC,CAAC,IAAIA,CAAC,CAAChB,EAAhB,CAAZ,EAAkC,CAAlC,IAAuC;AAF/B,OAAT,CAAP;;AAIJ,SAAKR,UAAL;AACIyB,MAAAA,OAAO,CAACC,GAAR,CAAYT,MAAZ;AACA,aAAOD,IAAI,CAACW,MAAL,CAAYP,GAAG,IAAIA,GAAG,CAACZ,EAAJ,KAAWS,MAAM,CAACE,OAAP,CAAeS,KAA7C,CAAP;;AACJ,SAAKzB,QAAL;AACI,YAAM0B,QAAQ,GAAG,CAAC,GAAGb,IAAJ,CAAjB;AACA,YAAMc,gBAAgB,GAAGD,QAAQ,CAACE,SAAT,CAAmBX,GAAG,IAAIA,GAAG,CAACZ,EAAJ,KAAWS,MAAM,CAACE,OAAP,CAAeC,GAAf,CAAmBZ,EAAxD,CAAzB;AACAqB,MAAAA,QAAQ,CAACC,gBAAD,CAAR,GAA6Bb,MAAM,CAACE,OAAP,CAAeC,GAA5C;AACA,aAAOS,QAAP;;AACJ,SAAKvB,wBAAL;AACI,aAAOW,MAAM,CAACE,OAAP,CAAeH,IAAtB;;AACJ;AACI,aAAOA,IAAP;AAjBR;AAmBH,CApBD;;AAsBA,MAAMgB,gBAAgB,GAAG,CAACC,SAAS,GAAG,CAAC,CAAd,EAAiBhB,MAAjB,KAA4B;AACjD,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKnB,OAAL;AACI,aAAO,CAAC,CAAR;;AACJ,SAAKC,UAAL;AACI,aAAO,CAAC,CAAR;;AACJ,SAAKC,QAAL;AACIwB,MAAAA,OAAO,CAACC,GAAR,CAAYT,MAAM,CAACE,OAAP,CAAeC,GAA3B;AACAa,MAAAA,SAAS,GAAGhB,MAAM,CAACE,OAAP,CAAeC,GAA3B;AACA,aAAOa,SAAP;;AACJ,SAAK9B,QAAL;AACI,aAAO,CAAC,CAAR;;AACJ;AACI,aAAO,CAAC,CAAR;AAZR;AAeH,CAhBD;;AAkBA,MAAM+B,eAAe,GAAG,CAAEC,QAAQ,GAAG;AAACC,EAAAA,OAAO,EAAE,IAAV;AAAgBC,EAAAA,OAAO,EAAEjC;AAAzB,CAAb,EAAiDa,MAAjD,KAA4D;AAChF,MAAGA,MAAM,CAACC,IAAP,KAAgBhB,QAAnB,EAA4B;AACxB,QAAGe,MAAM,CAACE,OAAP,CAAemB,GAAf,KAAuBH,QAAQ,CAACC,OAAnC,EAA2C;AACvC,UAAGD,QAAQ,CAACE,OAAT,KAAqBjC,QAAxB,EACI,OAAO,EAAC,GAAG+B,QAAJ;AAAcE,QAAAA,OAAO,EAAEhC;AAAvB,OAAP,CADJ,KAGI,OAAO,EAAC,GAAG8B,QAAJ;AAAcE,QAAAA,OAAO,EAAEjC;AAAvB,OAAP;AACP,KALD,MAMI;AACA,aAAO,EAAC,GAAG+B,QAAJ;AAAcC,QAAAA,OAAO,EAAEnB,MAAM,CAACE,OAAP,CAAemB,GAAtC;AAA2CD,QAAAA,OAAO,EAAEjC;AAApD,OAAP;AACH;AACJ;;AACD,SAAO+B,QAAP;AACH,CAbD;;AAeA,MAAMI,gBAAgB,GAAG,CAACC,SAAS,GAAC,KAAX,EAAkBvB,MAAlB,KAA6B;AAClD,MAAGA,MAAM,CAACC,IAAP,CAAYuB,QAAZ,CAAqB,SAArB,CAAH,EACI,OAAO,IAAP;AACJ,MAAGxB,MAAM,CAACC,IAAP,CAAYuB,QAAZ,CAAqB,MAArB,CAAH,EACI,OAAO,KAAP;AACJ,SAAOD,SAAP;AACH,CAND;;AAQA,OAAO,MAAME,cAAc,GAAG5C,eAAe,CAAC;AAC1CkB,EAAAA,IAAI,EAAED,UADoC;AAE1CkB,EAAAA,SAAS,EAAED,gBAF+B;AAG1CG,EAAAA,QAAQ,EAAED,eAHgC;AAI1CM,EAAAA,SAAS,EAAED;AAJ+B,CAAD,CAAtC","sourcesContent":["import { combineReducers } from \"redux\";\n\nimport {\n    ADD_CAR,\n    DELETE_CAR,\n    EDIT_CAR,\n    SORT_CAR,\n    SAVE_CAR,\n    SORT_ASC,\n    SORT_DESC,\n    REFRESH_CARS_DONE_ACTION\n} from '../actions/carToolActions';\n\nconst carList = [\n    {id: 1, make: 'Lexus', model: 'NX 300', year: 2021, color: 'Atomic Silver', price: 53000, isEditable: false},\n    {id: 2, make: 'Tesla', model: 'Model 3', year: 2021, color: 'Red', price: 72000, isEditable: false}\n  ];\n\n\nconst carReducer = (cars = carList, action) => {\n    switch(action.type){\n        case ADD_CAR:\n            return [...cars,{\n                ...action.payload.car,\n                id: Math.max(...cars.map(c => c.id) , 0) + 1,\n            }];\n        case DELETE_CAR:\n            console.log(action)\n            return cars.filter(car => car.id !== action.payload.carID);\n        case SAVE_CAR:\n            const carsCopy = [...cars];\n            const updatedItemIndex = carsCopy.findIndex(car => car.id === action.payload.car.id);\n            carsCopy[updatedItemIndex] = action.payload.car;\n            return carsCopy;\n        case REFRESH_CARS_DONE_ACTION:\n            return action.payload.cars;\n        default:\n            return cars;\n    }\n}\n\nconst editCarIdReducer = (editCarId = -1, action) => {\n    switch(action.type){\n        case ADD_CAR:\n            return -1;\n        case DELETE_CAR:\n            return -1;\n        case EDIT_CAR:\n            console.log(action.payload.car);\n            editCarId = action.payload.car;\n            return editCarId;\n        case SAVE_CAR:\n            return -1;\n        default:\n            return -1;\n        \n    }\n}\n\nconst carsSortReducer = ( carsSort = {sortCol: 'id', sortDir: SORT_ASC}, action) => {\n    if(action.type === SORT_CAR){\n        if(action.payload.col === carsSort.sortCol){\n            if(carsSort.sortDir === SORT_ASC)\n                return {...carsSort, sortDir: SORT_DESC};\n            else\n                return {...carsSort, sortDir: SORT_ASC};\n        }\n        else{\n            return {...carsSort, sortCol: action.payload.col, sortDir: SORT_ASC};\n        }\n    }\n    return carsSort;\n};\n\nconst isLoadingReducer = (isLoading=false, action) => {\n    if(action.type.includes(\"REQUEST\"))\n        return true;\n    if(action.type.includes(\"DONE\"))\n        return false;\n    return isLoading;\n}\n\nexport const carToolReducer = combineReducers({\n    cars: carReducer,\n    editCarId: editCarIdReducer,\n    carsSort: carsSortReducer,\n    isLoading: isLoadingReducer\n})"]},"metadata":{},"sourceType":"module"}